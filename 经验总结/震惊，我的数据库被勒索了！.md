å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯è‹ä½•ã€‚

æœ€è¿‘ä¸€ä¸ªå¤šæœˆï¼Œå…¨èº«å¿ƒæŠ•å…¥åˆ°**å¼€æºé¡¹ç›®**ä¸­ï¼Œå…¶ä¸­è¸©äº†å¾ˆå¤šçš„å‘ï¼Œä»Šå¤©ç»™å¤§å®¶åˆ†äº«çš„æ˜¯**æ•°æ®åº“è¢«å‹’ç´¢**çš„ç»å†ï¼Œå¸Œæœ›å¤§å®¶è¶³å¤Ÿé‡è§†æ•°æ®åº“çš„å®‰å…¨é˜²æŠ¤ã€‚

å› ä¸ºæ˜¯å¼€æºé¡¹ç›®å˜›ï¼Œä¸ºäº†æ§åˆ¶æˆæœ¬ï¼Œæ•°æ®åº“ä½¿ç”¨çš„æ˜¯é˜¿é‡Œäº‘ 1 æ ¸ 2G çš„ ECS æœåŠ¡å™¨è‡ªå·±æ­å»ºçš„ã€‚

![27z3.jpg](https://cdn.nlark.com/yuque/0/2024/jpeg/29495295/1715074612625-e7e059eb-c869-47f8-b9ab-2bfd11a8a777.jpeg#averageHue=%23b4b4b4&clientId=uf5f4d716-dff4-4&from=drop&id=uc3e3c742&originHeight=156&originWidth=156&originalType=binary&ratio=2&rotation=0&showTitle=false&size=3516&status=done&style=none&taskId=u29a6f45a-5e13-44fd-9433-bcbb5c213c5&title=)

æƒ³ç€è¿˜åœ¨æµ‹è¯•é˜¶æ®µï¼Œå¯†ç å¹²è„†å°±è®¾ç½®çš„æ¯”è¾ƒç®€å•ï¼Œæ²¡é”™ï¼Œå°±æ˜¯ 123456 ğŸ˜‚ã€‚å¹¶ä¸”æ€ä¹ˆç®€å•æ€ä¹ˆæ¥ï¼Œç”¨çš„ docker å¿«é€Ÿå°±æ­å»ºäº†ï¼Œå¹¶æ²¡æœ‰è®¾ç½®å¥½æƒé™ã€‚

æ­å»ºå¥½åè¿‡äº†ä¸€æ™šï¼Œä¸€ç›´åœ¨é‡å¯ï¼Œçœ‹äº†ä¸‹æ—¥å¿—ï¼Œä»¥ä¸ºæ˜¯å†…å­˜ä¸è¶³å¯¼è‡´ï¼Œåˆç»™ MySQL åŠ äº†**å†…å­˜é™åˆ¶å’Œå†…å­˜ä¿ç•™**ã€‚

è¿‡äº†ä¸€å¤©åˆå‘ç°ï¼Œè¿˜æ˜¯é‡å¯ï¼Œä¸”æ•°æ®éƒ½ä¸è§äº†ï¼ŒæŸ¥äº†ä¸‹æ•°æ®åº“ï¼Œåªæœ‰è¿™ä¸€å¼ è¡¨ï¼Œä¸”çœ‹äº†ä¸‹è¦æˆ‘æ”¯ä»˜ **5825.97** å…ƒï¼Œç›´æ¥å°±ç»™æˆ‘æ•´æ— è¯­äº†ã€‚

![å‹’ç´¢ä¿¡æ¯](https://cdn.nlark.com/yuque/0/2024/png/29495295/1712155957409-5f1d9a9e-3054-4878-b005-e4e600e8249e.png#averageHue=%23e1e0e0&clientId=u868cb0fc-64cf-4&from=paste&height=333&id=u3108cc8d&originHeight=666&originWidth=1966&originalType=binary&ratio=2&rotation=0&showTitle=true&size=309401&status=done&style=none&taskId=u0acece9a-9b2b-4e96-ae05-18b2b6ff4f2&title=%E5%8B%92%E7%B4%A2%E4%BF%A1%E6%81%AF&width=983 "å‹’ç´¢ä¿¡æ¯")

äºæ˜¯ç”¨ AI æŸ¥äº†ä¸‹ï¼Œå‘ç°åŸæ¥æ˜¯è¢«é»‘å®¢å‹’ç´¢äº†ï¼Œä¸€ç›´å…³æ³¨å¼€å‘ï¼Œå¯¹è¿ç»´ã€å®‰å…¨å’Œå¤‡ä»½ç¡®å®æœ‰å¤±å…³æ³¨äº†ï¼Œè¿˜å¥½åªæ˜¯æµ‹è¯•æ•°æ®ï¼Œäºæ˜¯é’ˆå¯¹äºæ­¤ï¼Œåšäº†å¾ˆå¤šæ•°æ®åº“å®‰å…¨åŠ å›ºï¼Œç»™å¤§å®¶åšä¸ªåˆ†äº«ã€‚

# è§£å†³æªæ–½
## 1ã€å¤æ‚åŒ–æ•°æ®åº“å¯†ç 

åŸå…ˆçš„ root å¯†ç æ˜¯ï¼š123456ï¼Œç°åœ¨éœ€è¦æ›´å¤æ‚æ‰è¡Œï¼Œç”±äºæ˜¯è·‘åœ¨ docker ä¸­ï¼Œå¯åŠ¨å‘½ä»¤è®¾ç½®å¼ºå¯†ç ã€‚å¯†ç å°½é‡åŒ…å«å¤§å°å†™åŠç‰¹æ®Šå­—ç¬¦ï¼Œç‰¹åˆ«æ˜¯å¯¹äºçº¿ä¸Šç¯å¢ƒï¼Œä¸€å®šè¦æŠŠ root å¯†ç è®¾ç½®çš„å¤æ‚äº›ã€‚

## 2ã€ä¿®æ”¹æ•°æ®åº“é»˜è®¤ç«¯å£

æœ‰ç»éªŒçš„å¼€å‘äººå‘˜ï¼Œé¡¹ç›®éƒ¨ç½²åˆ°æ­£å¼ç¯å¢ƒï¼Œä¼šæŠŠ Mysql æ•°æ®åº“çš„é»˜è®¤ç«¯å£**æ›¿æ¢æˆä¸å¸¸è§çš„ç«¯å£**ï¼Œä¾‹å¦‚ï¼š33706

```bash
docker run -p 33706:3306 --name mysql \
-v /home/mysql/log:/var/log/mysql \
-v /home/mysql/data:/var/lib/mysql \
--memory 1.5g \
--restart=always \
-e MYSQL_ROOT_PASSWORD=å¡«å¯†ç  -d mysql:5.7
```

åŸå…ˆåº”ç”¨æœåŠ¡å™¨ç«¯å£è¦åˆ é™¤ 3306 ç«¯å£ï¼Œå¹¶å¢åŠ  33706 ç«¯å£ï¼Œå®‰å…¨ç»„è®¾ç½®å¦‚ä¸‹ï¼š

![å®‰å…¨ç»„è®¾ç½®](https://cdn.nlark.com/yuque/0/2024/png/29495295/1712160304948-e3c0f865-106f-462e-9fe3-6c5e638a32d4.png#averageHue=%23f3f3f3&clientId=u78329278-0aaa-4&from=paste&height=559&id=uc6036917&originHeight=1118&originWidth=1890&originalType=binary&ratio=2&rotation=0&showTitle=true&size=201195&status=done&style=none&taskId=u0491e0db-51ea-4874-b180-4aaa4a30458&title=%E5%AE%89%E5%85%A8%E7%BB%84%E8%AE%BE%E7%BD%AE&width=945 "å®‰å…¨ç»„è®¾ç½®")

å¹¶å…³é—­å…³é—­åº”ç”¨æœåŠ¡å™¨é˜²ç«å¢™ç«¯å£ï¼š

```bash
sudo ufw delete allow 3306/tcp
```

![image.png](https://cdn.nlark.com/yuque/0/2024/png/29495295/1712160416885-9fe3dc72-fc60-4087-a43e-e9cce0379332.png#averageHue=%232c2c2c&clientId=u78329278-0aaa-4&from=paste&height=149&id=u11ef01fa&originHeight=298&originWidth=1018&originalType=binary&ratio=2&rotation=0&showTitle=false&size=54406&status=done&style=none&taskId=uf5e145ef-80e5-4c67-b659-658590eba86&title=&width=509)

å¼€å¯æ•°æ®åº“æœåŠ¡å™¨33706 ç«¯å£ï¼š

```bash
sudo ufw enable

ufw allow 80/tcp
ufw allow 22/tcp
ufw allow 33706/tcp
```

## 3ã€é™åˆ¶æ•°æ®åº“ç”¨æˆ·æƒé™

ä¸€èˆ¬ä¸é€‚ç”¨ root ç”¨æˆ·æ¥éšæ„æ“ä½œæ•°æ®åº“ï¼Œéœ€è¦å•ç‹¬**æ–°å»ºä¸€ä¸ªç”¨æˆ·**æ¥æ“ä½œï¼Œç‰¹åˆ«æ˜¯å¼€æ”¾è¿œç¨‹è¿æ¥ï¼Œä¸€å®šä¸èƒ½æ˜¯ root ç”¨æˆ·ã€‚

å…ˆç”¨ docker logs mysqlï¼Œçœ‹ä¸‹æ—¥å¿—ï¼Œçœ‹ä¸‹æœ‰æ²¡æœ‰å¯åŠ¨æŠ¥é”™ï¼Œç„¶åè¿›å…¥å®¹å™¨ç›´æ¥çœ‹ï¼š

![image.png](https://cdn.nlark.com/yuque/0/2024/png/29495295/1712161328684-cf72f47f-9ac5-4aa2-b241-e6b8344aaf88.png#averageHue=%232c2c2c&clientId=u076ca88f-d4c8-4&from=paste&height=530&id=u64ace86a&originHeight=1060&originWidth=1400&originalType=binary&ratio=2&rotation=0&showTitle=false&size=152219&status=done&style=none&taskId=ube6b4fc2-571f-474d-866d-6213e5f9e80&title=&width=700)

é»˜è®¤ root ç”¨æˆ·æœ‰æœ€é«˜æƒé™ï¼š

![image.png](https://cdn.nlark.com/yuque/0/2024/png/29495295/1712161361740-5fabf901-5ff8-468a-8bd5-65a4894ff49c.png#averageHue=%232f2f2f&clientId=u076ca88f-d4c8-4&from=paste&height=206&id=u8504423c&originHeight=412&originWidth=1276&originalType=binary&ratio=2&rotation=0&showTitle=false&size=65063&status=done&style=none&taskId=ucfae6df0-69c3-4e51-bb7b-824b2076fa4&title=&width=638)

æ–°å¢ä¸€ä¸ªå¼€å‘ç”¨æˆ·ï¼Œå¹¶è®¾ç½®ç›¸åº”æƒé™ï¼š

```bash
#åˆ‡æ¢åˆ°mysqlåº“ï¼Œmysqlåº“é‡Œå­˜æ”¾ç€userè¡¨
use mysql;
#æŸ¥çœ‹userè¡¨ç°æœ‰
select host,user password from user;
#åˆ›å»ºå¼€å‘é˜¶æ®µæ‰€éœ€ä¸´æ—¶ç”¨æˆ·ï¼šdev_laigeofferï¼Œè‡ªå®šä¹‰å¯†ç ï¼Œå°½é‡å¤æ‚åŒ–
create user 'dev_laigeoffer'@'%' identified by 'è®¾ç½®å¯†ç ';

#å¦‚æœå¯†ç è®¾ç½®é”™äº†è¿˜å¯ä»¥ä¿®æ”¹
ALTER USER 'dev_laigeoffer'@'%' IDENTIFIED BY 'æ›´æ”¹å¯†ç ';


#ç»™å¼€å‘ç”¨æˆ·åˆ†é…è®¿é—®æƒé™ï¼Œæš‚æ—¶å…è®¸ä»»ä½•ä¸»æœºè¿æ¥ï¼Œæˆæƒç”¨æˆ·é™¤äº†å°†æƒé™æˆäºˆå…¶ä»–è´¦æˆ·çš„èƒ½åŠ›
GRANT ALL PRIVILEGES ON *.* TO 'dev_laigeoffer'@'%';

# ä¿®æ”¹ååˆ·æ–°æƒé™
flush privileges;
#é€€å‡ºmysqlæ•°æ®åº“
exit;

mysql -u dev_laigeoffer -p
```

æœ¬åœ°ç”¨ navicate è¿æ¥ï¼Œ

![image.png](https://cdn.nlark.com/yuque/0/2024/png/29495295/1712163300262-61f78ac2-6f9e-490e-b7f2-ff4f65a8a99e.png#averageHue=%23bababa&clientId=u910b38ab-7110-4&from=paste&height=368&id=u139d453b&originHeight=736&originWidth=1250&originalType=binary&ratio=2&rotation=0&showTitle=false&size=179161&status=done&style=none&taskId=u50995f9e-da30-4f00-ad5d-6e5a748b37d&title=&width=625)

## 4ã€å‡†å¤‡æ•°æ®åº“æœåŠ¡å™¨

æˆ‘è¢«é»‘çš„ Mysql æ•°æ®åº“æ˜¯å’Œåº”ç”¨æœåŠ¡å™¨(ä»£ç æ‰“åŒ…åéƒ¨ç½²çš„æœåŠ¡å™¨)å®‰è£…åœ¨ä¸€èµ·çš„ï¼ˆä¸ºäº†çœé’±ğŸ˜‚ï¼‰ï¼Œä¸ºäº†å®‰å…¨æ­£å¼ç¯å¢ƒåº”è¯¥**æŠŠæ•°æ®åº“å•ç‹¬æ”¾ä¸€å°æœåŠ¡å™¨**ï¼Œåªå…è®¸è®©åº”ç”¨æœåŠ¡å™¨IPæ¥è®¿é—®æ•°æ®åº“æœåŠ¡å™¨ï¼Œé€šè¿‡ç‹¬ç«‹ä¸¤è€…ï¼Œå°±ç®—å…¶ä¸­ä¸€å°å‘ç”Ÿé—®é¢˜ï¼Œå¦ä¸€å°ä¹Ÿæ˜¯å¥½çš„ï¼Œè¿›ä¸€æ­¥**é™ä½äº†å±é™©æ€§**ã€‚

äºæ˜¯ä¹°äº†ä¸ªæ–°çš„å°å†…å­˜çš„æœåŠ¡å™¨ä¸“é—¨ç”¨æ¥åšæ•°æ®åº“ã€‚å¼€æºä¸æ˜“å•Šï¼Œç­‰é¡¹ç›®ä¸Šçº¿ï¼Œ**è¿˜æœ›å¤§å®¶å¤šå¤šæ”¯æŒ**ã€‚

å¦å¤–å¯¹äºæ•°æ®åº“ï¼Œ**æœ€å¥½ä¸è¦ç”¨ docker å®‰è£…**ï¼Œç¡¬æ˜¯è¦ dockerï¼Œä¹Ÿä¸€å®šè¦åšå¥½**ç£ç›˜æŒ‚è½½**æ‰è¡Œï¼Œå¦åˆ™ docker æŒ‚äº†ï¼Œæ•°æ®éƒ½ä¸è§äº†ï¼Œç£ç›˜æŒ‚è½½è¿˜å¯ä»¥æŠŠæ•°æ®æ”¾åœ¨ç£ç›˜ä¸Šæ°¸ä¹…ä¿å­˜ã€‚

## 5ã€å®šæ—¶å¤‡ä»½æ•°æ®åº“æ•°æ®

å¯ä»¥å®šæ—¶çš„å¤‡ä»½æ•°æ®åº“ï¼Œå¼€å‘å®šæ—¶å¤‡ä»½åŠŸèƒ½ï¼Œæ¯å¤©æ™šä¸Šå¤‡ä»½ä¸€ä¸‹æ•°æ®åº“ï¼Œå¦‚æœæ²¡æœ‰å¤‡ä»½æœåŠ¡å™¨ï¼Œå¯ä»¥æŠŠå¤‡ä»½æ•°æ®å­˜åœ¨åº”ç”¨æœåŠ¡å™¨ä¸Šã€‚

æˆ‘ç”¨çš„æ˜¯é˜¿é‡Œäº‘è‡ªå¸¦çš„**äº‘ç›˜å¿«ç…§**è§£å†³ï¼š

![image.png](https://cdn.nlark.com/yuque/0/2024/png/29495295/1712164025216-c2994c31-3020-48da-94ae-f2317be25ff4.png#averageHue=%23cacac7&clientId=u3dffb860-c4fc-4&from=paste&height=618&id=u7da8daea&originHeight=1236&originWidth=1806&originalType=binary&ratio=2&rotation=0&showTitle=false&size=260453&status=done&style=none&taskId=udeef057d-1396-4b87-8232-bc691b59f6e&title=&width=903)

![image.png](https://cdn.nlark.com/yuque/0/2024/png/29495295/1712164254686-1548edc8-61e3-46cb-b002-e6ef65946093.png#averageHue=%23f2f2f2&clientId=u3dffb860-c4fc-4&from=paste&height=573&id=u00b08865&originHeight=1146&originWidth=1804&originalType=binary&ratio=2&rotation=0&showTitle=false&size=183414&status=done&style=none&taskId=ue05919b3-8c52-405c-b5f8-b0609cf105c&title=&width=902)

## 6ã€æœåŠ¡å™¨å®‰å…¨åŠ å›º

è§‚å¯Ÿä¸‹æœåŠ¡å™¨æ˜¯å¦å­˜åœ¨å¼‚å¸¸è¿›ç¨‹å ç”¨è¿‡å¤šçš„æœåŠ¡å™¨èµ„æºï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ªæ–‡æ¡£åšä¸‹[æ“ä½œç³»ç»ŸåŠ å›º](https://help.aliyun.com/knowledge_list/60787.html )ï¼šå¦å¤–å®‰å…¨ç»„ä¸è¦æ”¾è¡Œä¸å¿…è¦çš„ç«¯å£ï¼Œ[ä¿®æ”¹å®‰å…¨ç»„è§„åˆ™](https://help.aliyun.com/zh/ecs/user-guide/add-a-security-group-rule?spm=a2c4g.11186623.0.i3)ã€‚

ä»¥ä¸Šæ˜¯æ•°æ®åº“è¢«å‹’ç´¢è¸©å‘ç»å†ï¼Œå¦‚æœä½ ä¹Ÿå–œæ¬¢å¼€æºå’Œç‹¬ç«‹å¼€å‘ï¼Œå–œæ¬¢ AIï¼Œä¸å¦¨å…³æ³¨è‹ä½•ã€‚



